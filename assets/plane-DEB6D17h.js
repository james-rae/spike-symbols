import{df as u,dA as v,dC as y,di as _,dg as C,c_ as N,ie as k,fA as z,dy as P,dl as M,dm as x,dp as Q,b7 as J,d0 as w}from"./spike-symbols.js";import"./vec42-CGd3qQJJ.js";import{e as K}from"./mat3f64-q3fE-ZOt.js";import{e as W}from"./mat4f64-CSKppSlJ.js";import{e as Y}from"./quatf64-aQ5IuZRd.js";import{n as Z}from"./vec4f64-CMoMXWBi.js";function V(t,e){return u(t,e)/v(t)}function ht(t,e){const r=u(t,e)/(v(t)*v(e));return-y(r)}function Tt(t,e,r){_(d,t),_(X,e);const n=u(d,X),i=y(n),s=C(d,d,X);return u(s,r)<0?2*Math.PI-i:i}const d=N(),X=N();let S=class E{constructor(e){this._create=e,this._items=new Array,this._itemsPtr=0}get(){return this._itemsPtr===0&&k(()=>this._reset()),this._itemsPtr>=this._items.length&&this._items.push(this._create()),this._items[this._itemsPtr++]}_reset(){const e=2*this._itemsPtr;this._items.length>e&&(this._items.length=e),this._itemsPtr=0}static createVec2f64(){return new E(z)}static createVec3f64(){return new E(N)}static createVec4f64(){return new E(Z)}static createMat3f64(){return new E(K)}static createMat4f64(){return new E(W)}static createQuatf64(){return new E(Y)}get test(){}};const _t=S.createVec2f64(),f=S.createVec3f64(),B=S.createVec4f64();S.createMat3f64();const Mt=S.createMat4f64(),St=S.createQuatf64();function mt(t){const e=t[0]*t[0]+t[4]*t[4]+t[8]*t[8],r=t[1]*t[1]+t[5]*t[5]+t[9]*t[9],n=t[2]*t[2]+t[6]*t[6]+t[10]*t[10];return Math.sqrt(Math.max(e,r,n))}function $t(t,e){const r=Math.sqrt(e[0]*e[0]+e[4]*e[4]+e[8]*e[8]),n=Math.sqrt(e[1]*e[1]+e[5]*e[5]+e[9]*e[9]),i=Math.sqrt(e[2]*e[2]+e[6]*e[6]+e[10]*e[10]);return P(t,r,n,i),t}function G(t,e,r){Math.abs(t[0])>Math.abs(t[1])?P(e,0,1,0):P(e,1,0,0),C(r,t,e),C(e,r,t),_(r,r),_(e,e)}function H(t=g){return[t[0],t[1],t[2],t[3]]}function gt(t=g[0],e=g[1],r=g[2],n=g[3]){return j(t,e,r,n,B.get())}function tt(t,e){return j(e[0],e[1],e[2],e[3],t)}function Dt(t){return t}function j(t,e,r,n,i=H()){return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}function et(t,e,r){const n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=Math.abs(n-1)>1e-5&&n>1e-12?1/Math.sqrt(n):1;return r[0]=e[0]*i,r[1]=e[1]*i,r[2]=e[2]*i,r[3]=-(r[0]*t[0]+r[1]*t[1]+r[2]*t[2]),r}function rt(t,e,r,n=H()){const i=r[0]-e[0],s=r[1]-e[1],a=r[2]-e[2],c=t[0]-e[0],D=t[1]-e[1],O=t[2]-e[2],m=s*O-a*D,p=a*c-i*O,F=i*D-s*c,R=m*m+p*p+F*F,q=Math.abs(R-1)>1e-5&&R>1e-12?1/Math.sqrt(R):1;return n[0]=m*q,n[1]=p*q,n[2]=F*q,n[3]=-(n[0]*t[0]+n[1]*t[1]+n[2]*t[2]),n}function nt(t,e,r,n=0,i=Math.floor(r*(1/3)),s=Math.floor(r*(2/3))){if(r<3)return!1;e($,n);let a=i,c=!1;for(;a<r-1&&!c;)e(T,a),a++,c=!w($,T);if(!c)return!1;for(a=Math.max(a,s),c=!1;a<r&&!c;)e(h,a),a++,M(l,$,T),_(l,l),M(A,T,h),_(A,A),c=!w($,h)&&!w(T,h)&&Math.abs(u(l,A))<it;return c?(rt($,T,h,t),!0):(n!==0||i!==1||s!==2)&&nt(t,e,r,0,1,2)}const it=.99619469809,$=N(),T=N(),h=N(),l=N(),A=N();function Ot(t,e,r){return e!==t&&tt(t,e),t[3]=-u(t,r),t}function dt(t,e,r,n){return C(h,e,t),et(r,h,n)}function lt(t,e,r,n){return U(b(t,e,M(f.get(),r,e),at,n))}function At(t,e,r){return e!=null&&U(b(t,e.origin,e.direction,st,r))}function Ct(t,e,r){return U(b(t,e.origin,e.vector,I.NONE,r))}function Pt(t,e,r){return U(b(t,e.origin,e.vector,I.CLAMP,r))}function Ut(t,e){return L(t,e)>=0}function bt(t,e,r){const n=x(f.get(),t,-t[3]),i=ct(t,M(f.get(),e,n),f.get());return Q(r,i,n),r}function pt(t,e,r,n){const i=t,s=f.get(),a=f.get();G(i,s,a);const c=M(f.get(),r,e),D=V(s,c),O=V(a,c),m=V(i,c);return P(n,D,O,m)}function ct(t,e,r){const n=x(f.get(),t,u(t,e));return M(r,e,n),r}function Ft(t,e){return Math.abs(L(t,e))}function L(t,e){return u(t,e)+t[3]}var o;function U(t){return t===o.INTERSECTS_INSIDE_OUT||t===o.INTERSECTS_OUTSIDE_IN}function b(t,e,r,n,i){const s=u(t,r),a=L(t,e);if(s===0)return a>=0?o.INSIDE:o.OUTSIDE;let c=-a/s;return n&I.CLAMP&&(c=J(c,0,1)),!(n&I.INFINITE_MIN)&&c<0||!(n&I.INFINITE_MAX)&&c>1?a>=0?o.INSIDE:o.OUTSIDE:(Q(i,e,x(i,r,c)),a>=0?o.INTERSECTS_INSIDE_OUT:o.INTERSECTS_OUTSIDE_IN)}(function(t){t[t.INTERSECTS_INSIDE_OUT=0]="INTERSECTS_INSIDE_OUT",t[t.INTERSECTS_OUTSIDE_IN=1]="INTERSECTS_OUTSIDE_IN",t[t.INSIDE=2]="INSIDE",t[t.OUTSIDE=3]="OUTSIDE"})(o||(o={}));const g=[0,0,1,0];var I;(function(t){t[t.NONE=0]="NONE",t[t.CLAMP=1]="CLAMP",t[t.INFINITE_MIN=4]="INFINITE_MIN",t[t.INFINITE_MAX=8]="INFINITE_MAX"})(I||(I={}));const at=I.INFINITE_MIN|I.INFINITE_MAX,st=I.INFINITE_MAX;export{gt as D,bt as H,pt as J,H as M,Dt as O,dt as P,Ft as Q,j as U,L as V,Mt as a,ht as b,f as c,G as d,V as f,$t as g,tt as h,lt as k,et as l,mt as m,St as o,rt as p,Ct as q,B as r,_t as t,Tt as u,nt as v,Pt as w,At as x,Ot as y,Ut as z};
//# sourceMappingURL=plane-DEB6D17h.js.map
