{"version":3,"file":"jsonUtils-B6BNTLPc.js","sources":["../../node_modules/@arcgis/core/symbols/support/defaults3D.js","../../node_modules/@arcgis/core/symbols/support/symbolConversion.js","../../node_modules/@arcgis/core/symbols/support/jsonUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport o from\"../../Color.js\";import\"../../symbols.js\";import e from\"../../core/Collection.js\";import\"../../core/has.js\";import{px2pt as r}from\"../../core/screenUtils.js\";import m from\"../FillSymbol3DLayer.js\";import l from\"../LineSymbol3D.js\";import s from\"../MeshSymbol3D.js\";import i from\"../PointSymbol3D.js\";import n from\"../PolygonSymbol3D.js\";import t from\"../edges/SolidEdges3D.js\";import{defaultPointSymbol2D as p,defaultPolylineSymbol2D as y,defaultPolygonSymbol2D as a}from\"./defaults.js\";import{defaultColor as f,defaultOutlineColor as c}from\"./defaultsJSON.js\";import j from\"../LineSymbol3DLayer.js\";const u=i.fromSimpleMarkerSymbol(p),w=l.fromSimpleLineSymbol(y),S=n.fromSimpleFillSymbol(a),b=new s({symbolLayers:new e([new m({material:{color:f},edges:new t({size:r(1),color:new o(c)})})])}),L=new l({symbolLayers:new e([new j({material:{color:new o([0,0,0])},size:r(1)})])}),D=new n({symbolLayers:new e([new m({outline:{color:new o([0,0,0]),size:r(1)}})])});function d(o){if(null==o)return null;switch(o.type){case\"mesh\":return b;case\"point\":case\"multipoint\":return u;case\"polyline\":return w;case\"polygon\":case\"extent\":return S}return null}export{D as defaultRendererPolygonSymbol3D,L as defaultRendererPolylineSymbol3D,d as getDefaultSymbol3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as o}from\"../../symbols.js\";import e from\"../../core/Error.js\";import{defaultRendererPolygonSymbol3D as r,defaultRendererPolylineSymbol3D as l}from\"./defaults3D.js\";import m from\"../WebStyleSymbol.js\";import i from\"../PointSymbol3D.js\";import n from\"../SimpleLineSymbol.js\";import s from\"../LineSymbol3D.js\";import t from\"../SimpleMarkerSymbol.js\";import y from\"../PictureMarkerSymbol.js\";import b from\"../SimpleFillSymbol.js\";import a from\"../MeshSymbol3D.js\";import f from\"../PolygonSymbol3D.js\";import p from\"../TextSymbol.js\";import c from\"../LabelSymbol3D.js\";const S=\"#useCIMFallbackSymbology()\",g={retainId:!1,ignoreDrivers:!1,hasLabelingContext:!0};function u(u,d=g){if(!u)return{symbol:null};const{retainId:D=g.retainId,ignoreDrivers:M=g.ignoreDrivers,hasLabelingContext:j=g.hasLabelingContext,retainCIM:C=g.retainCIM,cimFallbackEnabled:I=g.cimFallbackEnabled}=d;let k=null;if(o(u)||u instanceof m)k=u.clone();else if(\"cim\"===u.type){const o=u.data?.symbol?.type;switch(o){case\"CIMPointSymbol\":k=C?u.clone():i.fromCIMSymbol(u);break;case\"CIMLineSymbol\":I&&(k=l.clone(),d?.logWarning?.(S,\"Unsupported CIM line symbology converted to fallback 3D line symbology\"));break;case\"CIMPolygonSymbol\":I&&(k=r.clone(),d?.logWarning?.(S,\"Unsupported CIM polygon symbology converted to fallback 3D polygon symbology\"))}if(!k)return{error:new e(\"symbol-conversion:unsupported-cim-symbol\",`CIM symbol of type '${o||\"unknown\"}' is unsupported in 3D`,{symbol:u})}}else if(u instanceof n)k=s.fromSimpleLineSymbol(u);else if(u instanceof t)k=i.fromSimpleMarkerSymbol(u);else if(u instanceof y)k=i.fromPictureMarkerSymbol(u);else if(u instanceof b)k=d.geometryType&&\"mesh\"===d.geometryType?a.fromSimpleFillSymbol(u):f.fromSimpleFillSymbol(u);else{if(!(u instanceof p))return{error:new e(\"symbol-conversion:unsupported-2d-symbol\",`2D symbol of type '${u.type||u.declaredClass}' is unsupported in 3D`,{symbol:u})};k=j?c.fromTextSymbol(u):i.fromTextSymbol(u)}return D&&k&&\"cim\"!==k.type&&(k.id=u.id),M&&o(k)&&k.symbolLayers.forEach((o=>o.ignoreDrivers=!0)),{symbol:k}}export{g as defaultTo3DOptions,u as to3D};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{readSymbol as e}from\"../../symbols.js\";import o from\"../../core/Error.js\";import{isSceneServiceLayer as n}from\"../../layers/support/layerUtils.js\";import t from\"../Symbol3D.js\";import{to3D as s}from\"./symbolConversion.js\";import r from\"../WebStyleSymbol.js\";function l(e,o,n,t){const s=y(e,{},{context:t,isLabelSymbol:!1});null!=s&&(o[n]=s)}function i(e,o,n,t){const s=y(e,{},{context:t,isLabelSymbol:!0});null!=s&&(o[n]=s)}function m(e){return e instanceof t||e instanceof r}function a(e){return e instanceof t&&(\"polygon-3d\"===e.type||\"line-3d\"===e.type)}function y(e,t,r){if(null==e)return null;const{context:l,isLabelSymbol:i}=r,y=l?.origin,p=l?.messages;if(\"web-scene\"===y&&!m(e)){const n=s(e,{retainCIM:!0,hasLabelingContext:i});return null!=n.symbol?n.symbol.write(t,l):(p?.push(new o(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in scenes. Use 3D symbology instead when working with WebScene and SceneView`,{symbol:e,context:l,error:n.error})),null)}return n(l?.layer)&&a(e)?(p?.push(new o(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported on layers of type '${l?.layer?.declaredClass}'.`,{symbol:e,context:l})),null):(\"web-map\"===y||\"portal-item\"===y&&!n(l?.layer))&&m(e)?(p?.push(new o(\"symbol:unsupported\",`Symbols of type '${e.declaredClass}' are not supported in web maps and portal items. Use 2D symbology and CIMSymbol instead when working with MapView`,{symbol:e,context:l})),null):e.write(t,l)}function p(o,n){return e(o,null,n)}export{p as fromJSON,l as write,i as writeLabelSymbol};\n"],"names":["i","p","l","y","n","a","s","e","m","f","t","r","o","c","L","j","D","S","g","u","d","M","C","I","k","_b","_a","b"],"mappings":"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","x_google_ignoreList":[0,1,2]}