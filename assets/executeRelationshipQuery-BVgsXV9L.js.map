{"version":3,"file":"executeRelationshipQuery-BVgsXV9L.js","sources":["../../node_modules/@arcgis/core/rest/query/operations/queryRelatedRecords.js","../../node_modules/@arcgis/core/rest/query/executeRelationshipQuery.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../../request.js\";import{srToRESTValue as t}from\"../../../geometry/support/spatialReferenceUtils.js\";import{mapParameters as o}from\"../../operations/urlUtils.js\";function r(e,o){const r=e.toJSON();return r.objectIds&&(r.objectIds=r.objectIds.join(\",\")),r.orderByFields&&(r.orderByFields=r.orderByFields.join(\",\")),r.outFields&&!o?.returnCountOnly?r.outFields.includes(\"*\")?r.outFields=\"*\":r.outFields=r.outFields.join(\",\"):delete r.outFields,r.outSR&&(r.outSR=t(r.outSR)),r.dynamicDataSource&&(r.layer=JSON.stringify({source:r.dynamicDataSource}),delete r.dynamicDataSource),r}async function s(e,t,o){const r=await a(e,t,o),s=r.data,n=s.geometryType,d=s.spatialReference,c={};for(const a of s.relatedRecordGroups){const e={fields:void 0,objectIdFieldName:void 0,geometryType:n,spatialReference:d,hasZ:!!s.hasZ,hasM:!!s.hasM,features:a.relatedRecords};if(null!=a.objectId)c[a.objectId]=e;else for(const t of Object.keys(a))\"relatedRecords\"!==t&&(c[a[t]]=e)}return{...r,data:c}}async function n(e,t,o){const r=await a(e,t,o,{returnCountOnly:!0}),s=r.data,n={};for(const a of s.relatedRecordGroups)null!=a.objectId&&(n[a.objectId]=a.count);return{...r,data:n}}async function a(t,s,n={},a){const d=o({...t.query,f:\"json\",...a,...r(s,a)});return e(t.path+\"/queryRelatedRecords\",{...n,query:{...n.query,...d}})}export{s as executeRelationshipQuery,n as executeRelationshipQueryForCount,r as toQueryStringParameters};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{parseUrl as t}from\"../utils.js\";import{executeRelationshipQuery as r,executeRelationshipQueryForCount as e}from\"./operations/queryRelatedRecords.js\";import o from\"../support/FeatureSet.js\";import s from\"../support/RelationshipQuery.js\";async function n(e,n,u){n=s.from(n);const a=t(e);return r(a,n,u).then((t=>{const r=t.data,e={};return Object.keys(r).forEach((t=>e[t]=o.fromJSON(r[t]))),e}))}async function u(r,o,n){o=s.from(o);const u=t(r);return e(u,o,{...n}).then((t=>t.data))}export{n as executeRelationshipQuery,u as executeRelationshipQueryForCount};\n"],"names":["r","e","t","s","o","a","n","d","c","u"],"mappings":"2lCAImL,SAASA,EAAEC,EAAE,EAAE,CAAC,MAAMD,EAAEC,EAAE,OAAM,EAAG,OAAOD,EAAE,YAAYA,EAAE,UAAUA,EAAE,UAAU,KAAK,GAAG,GAAGA,EAAE,gBAAgBA,EAAE,cAAcA,EAAE,cAAc,KAAK,GAAG,GAAGA,EAAE,WAAW,EAAC,WAAG,iBAAgBA,EAAE,UAAU,SAAS,GAAG,EAAEA,EAAE,UAAU,IAAIA,EAAE,UAAUA,EAAE,UAAU,KAAK,GAAG,EAAE,OAAOA,EAAE,UAAUA,EAAE,QAAQA,EAAE,MAAME,EAAEF,EAAE,KAAK,GAAGA,EAAE,oBAAoBA,EAAE,MAAM,KAAK,UAAU,CAAC,OAAOA,EAAE,iBAAiB,CAAC,EAAE,OAAOA,EAAE,mBAAmBA,CAAC,CAAC,eAAeG,EAAEF,EAAEC,EAAEE,EAAE,CAAC,MAAMJ,EAAE,MAAMK,EAAEJ,EAAEC,EAAEE,CAAC,EAAED,EAAEH,EAAE,KAAKM,EAAEH,EAAE,aAAaI,EAAEJ,EAAE,iBAAiBK,EAAE,GAAG,UAAUH,KAAKF,EAAE,oBAAoB,CAAC,MAAMF,EAAE,CAAC,OAAO,OAAO,kBAAkB,OAAO,aAAaK,EAAE,iBAAiBC,EAAE,KAAK,CAAC,CAACJ,EAAE,KAAK,KAAK,CAAC,CAACA,EAAE,KAAK,SAASE,EAAE,cAAc,EAAE,GAASA,EAAE,UAAR,KAAiBG,EAAEH,EAAE,QAAQ,EAAEJ,MAAO,WAAUC,KAAK,OAAO,KAAKG,CAAC,EAAqBH,IAAnB,mBAAuBM,EAAEH,EAAEH,CAAC,CAAC,EAAED,EAAE,CAAC,MAAM,CAAC,GAAGD,EAAE,KAAKQ,CAAC,CAAC,CAAC,eAAeF,EAAEL,EAAEC,EAAEE,EAAE,CAAC,MAAMJ,EAAE,MAAMK,EAAEJ,EAAEC,EAAEE,EAAE,CAAC,gBAAgB,EAAE,CAAC,EAAED,EAAEH,EAAE,KAAKM,EAAE,GAAG,UAAUD,KAAKF,EAAE,oBAA0BE,EAAE,UAAR,OAAmBC,EAAED,EAAE,QAAQ,EAAEA,EAAE,OAAO,MAAM,CAAC,GAAGL,EAAE,KAAKM,CAAC,CAAC,CAAC,eAAeD,EAAEH,EAAEC,EAAEG,EAAE,CAAA,EAAGD,EAAE,CAAC,MAAME,EAAEH,EAAE,CAAC,GAAGF,EAAE,MAAM,EAAE,OAAO,GAAGG,EAAE,GAAGL,EAAEG,EAAEE,CAAC,CAAC,CAAC,EAAE,OAAOJ,EAAEC,EAAE,KAAK,uBAAuB,CAAC,GAAGI,EAAE,MAAM,CAAC,GAAGA,EAAE,MAAM,GAAGC,CAAC,CAAC,CAAC,CAAC,CCAtjC,eAAeD,EAAEL,EAAEK,EAAEG,EAAE,CAACH,EAAEH,EAAE,KAAKG,CAAC,EAAE,MAAMD,EAAEH,EAAED,CAAC,EAAE,OAAOD,EAAEK,EAAEC,EAAEG,CAAC,EAAE,KAAMP,GAAG,CAAC,MAAMF,EAAEE,EAAE,KAAKD,EAAE,CAAE,EAAC,OAAO,OAAO,KAAKD,CAAC,EAAE,QAASE,GAAGD,EAAEC,CAAC,EAAEE,EAAE,SAASJ,EAAEE,CAAC,CAAC,CAAC,EAAGD,CAAC,CAAG,CAAA,CAAC,eAAeQ,EAAE,EAAE,EAAEH,EAAE,CAAC,EAAEH,EAAE,KAAK,CAAC,EAAE,MAAMM,EAAEP,EAAE,CAAC,EAAE,OAAOD,EAAEQ,EAAE,EAAE,CAAC,GAAGH,CAAC,CAAC,EAAE,KAAMJ,GAAGA,EAAE,IAAM,CAAA","x_google_ignoreList":[0,1]}