import{aC as n}from"./spike-symbols.js";import{y as f,m as k,M as C,I as M,f as I}from"./utils-Bgq9-INc.js";function p(e){const o=[];return i(f(e),o),o.length?new n(I(o[0])):null}function i(e,o){var l;if(!e)return;let a;a=e.type==="CIMTextSymbol"?e.symbol:e;const c=e.type==="CIMPolygonSymbol";if(a!=null&&a.symbolLayers){for(const r of a.symbolLayers)if(!(r.colorLocked||c&&(k(r)||C(r)&&r.markerPlacement&&M(r.markerPlacement))))switch(r.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":r.tintColor&&y(o,r.tintColor);break;case"CIMVectorMarker":(l=r.markerGraphics)==null||l.forEach(t=>{i(t.symbol,o)});break;case"CIMSolidStroke":case"CIMSolidFill":y(o,r.color);break;case"CIMHatchFill":i(r.lineSymbol,o)}}}function y(e,o){for(const a of e)if(a.join(".")===o.join("."))return;e.push(o)}function P(e,o,a){o instanceof n||(o=new n(o));const c=f(e);c&&s(c,o)}function s(e,o,a){var r;if(!e)return;let c;c=e.type==="CIMTextSymbol"?e.symbol:e;const l=(c==null?void 0:c.type)==="CIMPolygonSymbol";if(c!=null&&c.symbolLayers)for(const t of c.symbolLayers){if(t.colorLocked||l&&(k(t)||C(t)&&t.markerPlacement&&M(t.markerPlacement)))continue;const m=o.toArray();switch(t.type){case"CIMPictureMarker":case"CIMPictureStroke":case"CIMPictureFill":t.tintColor=m;break;case"CIMVectorMarker":(r=t.markerGraphics)==null||r.forEach(b=>{s(b.symbol,o)});break;case"CIMSolidStroke":case"CIMSolidFill":t.color=m;break;case"CIMHatchFill":s(t.lineSymbol,o)}}}export{p as C,P as I};
//# sourceMappingURL=cimSymbolUtils-sW4dnx__.js.map
